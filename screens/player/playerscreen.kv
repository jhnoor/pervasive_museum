#: import config config

<PlayerScreen>
    canvas.before:
        Color:
            rgba: root.background_color
        Rectangle:
            pos: self.pos
            size: self.size

<PlayerBoxLayout>
    orientation: 'vertical'
    canvas.before:
        Color:
            rgba: root.background_color
        Rectangle:
            pos: self.pos
            size: self.size

    Label:
        font_size: '%s sp' % (self.width*.05)
        text: root.name

    BoxLayout:
        orientation: 'horizontal'
        padding: 30
        spacing: 30

        AsyncImage:
            source: root.icon_url
            size_hint_y: None  # Tells the layout to ignore the size_hint in y dir
            height: dp(100)  # The fixed height you want

        Button:
            text: root.ready_button_text
            color: (0,0,0,1)
            font_size: '%s sp' % (self.width*.1)
            background_normal: "images/background_normal_white.png"
            background_color: root.ready_color
            on_press: root.toggle_ready()
            size_hint_y: 1

        Button:
            text: "Tilbake"
            color: (1,1,1,1)
            font_size: '%s sp' % (self.width*.1)
            background_normal: "images/background_normal_white.png"
            background_color: root.cancel_color
            on_press: root.cancel()
            size_hint_y: 1

    BoxLayout:
        orientation: 'vertical'
        padding: 30
        spacing: 30

        FloatLayout:

            Label:
                text: "Level "+root.level
                font_size: '%s sp' % (root.width*.03)
                size_hint: (None, None)
                pos_hint: {"center_x": 0.1, "center_y": 1}

            Label:
                text: "300/1000 xp"
                font_size: '%s sp' % (root.width*.02)
                size_hint: (None, None)
                pos_hint: {"center_x": 0.8, "center_y": 0.5}

            ProgressBar:
                max: 100
                value: root.progress
                size_hint: (1, None)
                pos_hint: {"center_x": 0.5, "center_y": 0.7}

                canvas:
                    Color:
                        rgb: 1, 1, 1
                    BorderImage:
                        border: (12, 12, 12, 12)
                        pos: self.x, self.center_y - config.xp_progressbar_height/2
                        size: self.width, config.xp_progressbar_height
                        source: 'images/progressbar_bg.PNG'
                    BorderImage:
                        border: [int(min(self.width * (self.value / float(self.max)) if self.max else 0, 12))] * 4
                        pos: self.x, self.center_y - config.xp_progressbar_height/2
                        size: self.width * (self.value / float(self.max)) if self.max else 0, config.xp_progressbar_height
                        source: 'images/xp_progressbar_foreground.png'


    Label:
        font_size: '%s sp' % (self.width*.03)
        text: "Power-ups"

    BoxLayout:
        orientation: 'vertical'
        spacing: 3

        Label:
            font_size: '%s sp' % (self.width*.03)
            text: "pow1"
            canvas.before:
                Color:
                    rgba: config.colors['light_grey']
                Rectangle:
                    pos: self.pos
                    size: self.size

        Label:
            font_size: '%s sp' % (self.width*.03)
            text: "pow2"
            canvas.before:
                Color:
                    rgba: config.colors['light_grey']
                Rectangle:
                    pos: self.pos
                    size: self.size

        Label:
            font_size: '%s sp' % (self.width*.03)
            text: "pow3"
            canvas.before:
                Color:
                    rgba: config.colors['light_grey']
                Rectangle:
                    pos: self.pos
                    size: self.size

    Label:
        font_size: '%s sp' % (self.width*.03)
        text: "Trof√©er"



    BoxLayout:
        orientation: 'horizontal'
        padding: 4
        spacing: 4

        # Three types of powerups

        Label:
            font_size: '%s sp' % (self.width*.05)
            text: "tro1"

        Label:
            font_size: '%s sp' % (self.width*.05)
            text: "tro2"

        Label:
            font_size: '%s sp' % (self.width*.05)
            text: "tro3"


<StartScreenBoxLayout>:
    id: start_screen_id
    orientation: 'vertical'

    canvas.before:
        Color:
            rgba: root.background_color
        Rectangle:
            pos: self.pos
            size: self.size

    Label:
        font_size: '%s sp' % (self.width*.1)
        text: "[b][color=cbf3f0]Pe[/color]Muse[/b]"
        markup: True
        size_hint_y: 4

    BoxLayout:
        orientation: 'vertical'
        padding: 30
        spacing: 30
        size_hint_y: 3

        Image:
            id: rfid_image_id
            source: 'images/rfid_login.png'
            halign: 'center'
            size_hint_y: 4

        Label:
            text: 'Skann rfid brikken din'
            font_size: '%s sp' % (self.width*.05)
            background_color: (0.80, 0.95, 0.94, 0.5)

        GridLayout:
            id: grid_msgbox
            rows: 1

            Label:
                text: root.msg

<MainGridLayout>
    cols: 2

<PowerupsGridLayout>
    cols: root.cols